 parameters: 
   - name: nameProject
     type: string
     default: ""
 
 variables:
  IMAGE_NAME: tyler0128/'$(nameProject)'
  TAG: '$(Build.BuildId)'

 steps:
      - task: Docker@2
        displayName: Build an image
        inputs:
          containerRegistry: 'DockerHub'
          repository: '$(IMAGE_NAME)'
          command: 'build'
          Dockerfile: '**/Dockerfile'
          tags: |
            $(TAG)

      - task: Docker@2
        displayName: Push image to Docker Hub
        inputs:
          containerRegistry: 'DockerHub'
          repository: '$(IMAGE_NAME)'
          command: 'push'
          tags: '$(TAG)'
